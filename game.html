<!--
ADDING CONTENT
--------------
	All data that you use must be preloaded, add filename to dataSrcs array
(defined in data.js), do not add in data.js but instead put
"dataSrcs.push('filename.ext')" in your own files near where you use said
files.
	Entities in the game are objects in the form "{alive: true, Update:
function() {}, Draw: function() {}}".
	To add entities to the game, use the AddEntity function. It will also set
the "alive" property to true.
-->
<html>
	<head>
		<script src="base.js"></script>
		<script src="commonGfx.js"></script>
		<script src="commonLogic.js"></script>
		<script src="data.js"></script>
		<script src="keys.js"></script>
		
		<script src="projectile.js"></script>
		<script src="basePlayer.js"></script>
		<script src="enemy.js"></script>
		<script src="entrance.js"></script>
		
		<script src="jiggawatt.js"></script>
		<script src="skull.js"></script>
		<script src="woods.js"></script>
		<script src="mine.js"></script>
		<script>
function InitGame()
{
	/* Add first entities here */
	SpawnWoods();
	AddEntity(new Jiggawatt());
	
	/* Do not remove */
	freeze = false;
}

OnMoreData = function()
{
	var ratio = 1;
	if(dataSrcs.length > 0) ratio = (data.length / dataSrcs.length);
	context.fillStyle = "#000000";
	context.fillRect(0, 0, 640, 480);
	context.fillStyle = "#0000FF";
	context.fillRect(80, 220, 480, 20);
	context.fillStyle = "#FF0000";
	context.fillRect(80, 220, 480 * ratio, 20);
	context.fillText(Math.floor(ratio * 100) + "% loaded", 280, 208);
	if(data.length == dataSrcs.length) // Loading finished!
	{
		InitGame();
	}
}
		</script>
	</head>
	<body onload="Start();OnMoreData();">
		<div class="container">
			<canvas width="640" height="480" id="canvas" class="gameCanvas"></canvas>
		</div>
	</body>
</html>